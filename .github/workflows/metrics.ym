name: Metrics
on:
  schedule:
    # Atualiza diariamente às 00:00 UTC
    - cron: '0 0 * * *'
  workflow_dispatch:
  push:
    branches:
      - main

jobs:
  generate-stats:
    runs-on: ubuntu-latest
    steps:
      - name: Baixar repositório Metrics
        uses: lowlighter/metrics@latest
        with:
          token: ${{ secrets.GH_TOKEN }}
          user: Cintiabge
          template: terminal        # Template com visual similar ao da imagem
          base: repositories
          plugin_languages: yes     # Mostra as linguagens mais usadas
          plugin_activity: yes      # Mostra a atividade recente
          plugin_stars: yes         # Mostra estatísticas de estrelas recebidas
          plugin_lines: yes         # Mostra estatísticas de linhas de código
          plugin_isocalendar: yes   # Mostra um calendário de commits
          config_timezone: America/Sao_Paulo  # Define o fuso horário correto
